---
import Layout from "@/layouts/Layout.astro";

import Nav from "@/components/Nav.astro";
import Header from "@/components/Header.astro";
import AboutMe from "@/components/AboutMe.astro";
import Projects from "@/components/Projects.astro";
import Tech from "@/components/Tech.astro";
import Experience from "@/components/Experience.astro";
import Footer from "@/components/Footer.astro";
---

<Layout
    title="FuSoraS | Portafolio"
    description="Mi portafolio de desarrollo y programaciÃ³n web"
>
    <Nav />

    <section id="home">
        <Header />
    </section>

    <section id="section-about-me">
        <AboutMe />
    </section>

    <section id="experience">
        <Experience />
    </section>

    <section id="section-projects">
        <Projects />
    </section>

    <section class="section-tech" id="other-tech">
        <Tech />
    </section>

    <Footer />

    <style is:global>
        html {
            scroll-behavior: smooth;
        }
        h2 {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 20px;
        }
        h3 {
            font-size: 1.5rem;
            font-weight: bold;
        }
        strong {
            color: var(--green);
        }
    </style>
    <style>
        /* All sections */
        section {
            padding-top: 25px;
        }

        #about-me span {
            font-size: 50px;
            margin-left: 5px;
            color: var(--green-dark);
        }
        #experience {
            margin-bottom: 110px;
        }
        #other-tech {
            margin-top: 80px;
        }
    </style>

    <script>
        const sections = document.querySelectorAll("section");
        const navLinks = document.querySelectorAll("nav a");
        window.onscroll = () => {
            sections.forEach((sect) => {
                let top = window.scrollY;
                let offset = sect.offsetTop;
                let height = sect.offsetHeight;
                let id = sect.getAttribute("id");

                if (top >= offset && top < offset + height) {
                    navLinks.forEach((links) => {
                        links.classList.remove("active");
                        const activeLink = document.querySelector("nav a[href*=" + id + "]");
                        if (activeLink) {
                            activeLink.classList.add("active");
                        }
                    });
                }
            });
        };
    </script>
</Layout>
